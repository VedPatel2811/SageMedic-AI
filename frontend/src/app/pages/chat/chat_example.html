<!-- Main container -->
<div
  class="relative h-screen w-full flex bg-[#121212] text-white overflow-hidden"
>
  <!-- Sidebar for Desktop -->
  <div
    class="bg-[#1a1a1a] text-white flex-col transition-all duration-300 ease-in-out flex-shrink-0 hidden md:flex"
    [class.w-64]="!sidebarClosed"
    [class.w-0]="sidebarClosed"
  >
    <div
      class="flex items-center justify-between p-4"
    >
      <button class="text-white hover:text-[#ec6089]" (click)="toggleSidebar()">
        <svg
          class="h-6 w-6"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M6 18L18 6M6 6l12 12"
          />
        </svg>
      </button>
    </div>

  </div>

  <!-- Sidebar for Mobile (Overlay) -->
  <div
    class="fixed inset-0 z-30 md:hidden transition-transform duration-300 ease-in-out"
    [class.translate-x-0]="!sidebarClosed"
    [class.-translate-x-full]="sidebarClosed"
  >
    <div
      class="absolute inset-0 bg-black opacity-50"
      (click)="toggleSidebar()"
    ></div>
    <div class="relative w-64 bg-[#1a1a1a] h-full flex flex-col text-white">
      <div class="flex flex-col p-6">
        <button
          (click)="toggleSidebar()"
          class="text-white hover:text-[#ec6089] self-end"
        >
          <svg
            class="h-6 w-6"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M6 18L18 6M6 6l12 12"
            />
          </svg>
        </button>
        <div class="self-center">
          <img src="/logo-img.png" alt="Logo" class="h-25" />
        </div>
        <button
          class="bg-gradient-to-r from-[#543ffc] to-[#ec6089] text-white self-center active:bg-black w-full p-3 mt-5 rounded-xl text-xl transition duration-150 ease-in-out cursor-pointer select-none"
        >
          Home
        </button>
        <button
          class="bg-gradient-to-r from-[#543ffc] to-[#ec6089] text-white self-center active:bg-black w-full p-3 mt-3 rounded-xl text-xl transition duration-150 ease-in-out cursor-pointer select-none"
        >
          Info
        </button>
      </div>
      <div class="flex-grow overflow-y-auto p-4">
        <!-- Mobile sidebar content -->
      </div>
    </div>
  </div>

  <!-- Chat Area -->
  <div class="flex-grow flex flex-col h-screen overflow-hidden">
    <!-- Fixed Header -->
    <div
      class="fixed top-0 w-full bg-[#121212] z-10 p-4 border-b border-[#543ffc] text-center"
    >
      <button
        class="absolute left-4 top-1/2 -translate-y-1/2 text-white"
        (click)="toggleSidebar()"
      >
        <!-- Arrow Icon -->
        <svg
          class="h-6 w-6 transform rotate-180"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M9 5l7 7-7 7"
          />
        </svg>
      </button>
      <h1
        class="text-2xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-[#543ffc] to-[#ec6089]"
      >
        SageMedic AI
      </h1>
    </div>

    <!-- Messages Container -->
    <div
      #messagesContainer
      class="flex-grow overflow-y-auto p-6 pt-24 pb-36 flex flex-col"
    >
      <div
        *ngFor="let message of messages"
        class="flex mb-4 max-w-3/4"
        [ngClass]="{
          'self-end': message.sender === 'user',
          'self-start': message.sender === 'bot'
        }"
      >
        <div
          class="py-3 px-4 rounded-2xl leading-normal"
          [ngClass]="{
            'bg-[#543ffc] text-white': message.sender === 'user',
            'bg-gray-700 text-white': message.sender === 'bot'
          }"
        >
          <p>{{ message.text }}</p>
        </div>
      </div>
    </div>

    <!-- Input Section -->
    <div
      class="w-full px-4 py-4 border-t border-[#543ffc] bg-[#1a1a1a] fixed bottom-0 left-0 z-10 md:static"
    >
      <div class="flex items-center bg-[#2a2a2a] rounded-full py-2 px-4">
        <input
          type="text"
          placeholder="Message SageMedic-AI..."
          [(ngModel)]="userInput"
          (keyup.enter)="sendMessage()"
          class="flex-grow bg-transparent border-none text-white text-base outline-none placeholder-gray-400"
        />
        <button
          (click)="sendMessage()"
          class="text-[#543ffc] hover:text-[#ec6089] transition"
        >
          <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 16 16">
            <path
              d="M15.854.146a.5.5 0 0 1 .11.54l-5.819 14.547a.75.75 0 0 1-1.329.124l-3.178-4.995L.643 7.184a.75.75 0 0 1 .124-1.33L15.314.037a.5.5 0 0 1 .54.11ZM6.636 10.07l2.761 4.338L14.13 2.576 6.636 10.07Zm6.787-8.201L1.591 6.602l4.339 2.76 7.494-7.493Z"
            />
          </svg>
        </button>
      </div>
    </div>
  </div>
</div>
